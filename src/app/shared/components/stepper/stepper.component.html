<!-- Step Progress -->
<div class="mb-6 px-4">
  <!-- Progress Line + Stats -->
  <div class="flex justify-between items-center mb-2 text-sm text-gray-700 font-medium">
    <span>Step {{ activeStep + 1 }} of {{ steps.length }}</span>
    <span>{{ math.round(((activeStep + 1) / steps.length) * 100) }}% Completed</span>
  </div>

  <!-- Progress Bar -->
  <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden mb-3">
    <div
      class="bg-[#2673ba] h-full transition-all duration-300"
      [style.width.%]="((activeStep + 1) / steps.length) * 100"
    ></div>
  </div>

  <!-- Step Name/Description -->
  <div class="text-center text-lg text-[#2673ba] font-semibold pt-2 pb-0">
    {{ steps[activeStep]?.description }}
  </div>
</div>

<!-- Step Content -->
<div class="mb-6 p-6 border rounded-xl bg-white shadow-sm">
  <ng-container *ngIf="stepTemplates.length > 0">
    <ng-container *ngTemplateOutlet="stepTemplates[activeStep]"></ng-container>
  </ng-container>
</div>

<!-- Navigation Buttons -->
<!-- Navigation Buttons -->
<div class="flex justify-between mt-10 px-4 flex-wrap gap-4 mb-6">
  <!-- Previous: only show if not on first step -->
  <button
    *ngIf="activeStep > 0"
    class="inline-flex items-center gap-2 bg-white text-gray-700 border border-gray-300 px-5 py-2.5 rounded-xl shadow-sm hover:bg-gray-100 transition"
    (click)="previous()"
  >
    <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    Previous
  </button>

  <div class="flex-1"></div> <!-- Spacer -->

  <!-- Next -->
  <button
    *ngIf="activeStep < steps.length - 1"
    class="inline-flex items-center gap-2 bg-[#2673ba] text-white px-6 py-2.5 rounded-xl shadow-md hover:bg-blue-700 transition"
    (click)="next()"
  >
    Next
    <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
    </svg>
  </button>

  <button
  *ngIf="activeStep === steps.length - 1"
  class="inline-flex items-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-xl shadow-md hover:bg-green-700 transition"
  (click)="submitForm()"
>
  Submit
  <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
  </svg>
</button>

</div>

