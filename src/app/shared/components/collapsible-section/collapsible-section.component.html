<div class="border border-gray-300 rounded-md shadow-sm mb-4">
  <!-- Header -->
  <button
    type="button"
    class="w-full text-left px-4 py-3 flex justify-between items-center text-sm font-medium text-gray-800 hover:bg-gray-50 transition"
    (click)="toggle()"
  >
    {{ title }}
    <svg
      [class.rotate-180]="isExpanded"
      class="w-4 h-4 transform transition-transform duration-200 text-gray-500"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
    </svg>
  </button>

  <!-- Collapsed Preview -->
  <ng-container *ngIf="!isExpanded && previewItems.length > 0">
    <div class="px-4 pb-3 text-sm text-gray-600 border-t border-gray-100 bg-white">
      <ul class="list-disc pl-5 space-y-1">
        <li *ngFor="let item of previewItems.slice(0, 3)">{{ item }}</li>
      </ul>
    </div>
  </ng-container>

  <!-- Collapsible Content -->
  <div *ngIf="isExpanded" class="px-4 py-3 text-sm text-gray-700 border-t border-gray-200 bg-gray-50">
    <ng-content></ng-content>
  </div>
</div>
